app: n8n
description: Workflow automation backbone
port: 5678
url: http://localhost:5678
category: infra
priority: high

features:
  - id: web_ui
    name: n8n UI loads
    check: http_get
    path: /
    expected_status: 200

  - id: health_monitoring
    name: Health monitoring workflow (every 5 min)
    check: command_check
    command: docker exec n8n-n8n-1 n8n list:workflow
    expected_contains: Health Monitoring
    notes: Workflow should ping all services and log results

  - id: foreperson_schedule
    name: Foreperson weekly schedule (Sun 6 AM)
    check: command_check
    command: docker exec n8n-n8n-1 n8n list:workflow
    expected_contains: Foreperson Weekly
    notes: Run audit and report to Dropbox

  - id: backup_workflow
    name: Backup workflow (Sat 2 AM)
    check: command_check
    command: docker exec n8n-n8n-1 n8n list:workflow
    expected_contains: Backup
    notes: pg_dump, sqlite3, n8n export to Dropbox

  - id: vram_monitor
    name: VRAM monitor (every 15 min)
    check: command_check
    command: docker exec n8n-n8n-1 n8n list:workflow
    expected_contains: VRAM Monitor
    notes: nvidia-smi logging

  - id: disk_space_alert
    name: Disk space alert (daily)
    check: command_check
    command: docker exec n8n-n8n-1 n8n list:workflow
    expected_contains: Disk Space
    notes: Alert if <10% free

  - id: friction_digest
    name: Friction digest (Fri 5 PM)
    check: command_check
    command: docker exec n8n-n8n-1 n8n list:workflow
    expected_contains: Friction Digest
    notes: Summarise frustration logs weekly

  - id: synthetic_test
    name: Synthetic end-to-end test (daily 6 AM)
    check: command_check
    command: docker exec n8n-n8n-1 n8n list:workflow
    expected_contains: Synthetic
    notes: ELAINE -> CK Writer -> Ollama chain test
